<!DOCTYPE html>


<html lang="en">


<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8" />
    
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>
    Electromagnetism |  Peter&#39;s Blog
  </title>
  <meta name="generator" content="hexo-theme-ayer">
  
  <link rel="shortcut icon" href="/images/favicon.png" />
  
  
<link rel="stylesheet" href="/dist/main.css">

  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/css/remixicon.min.css">

  
<link rel="stylesheet" href="/css/custom.css">

  
  
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->

  
  

  

</head>

</html>

<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="app">
    <main class="content on">
      <section class="outer">
  <article id="post-Physics/Electromagnetism" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h1 class="article-title sea-center" style="border-left:0" itemprop="name">
  Electromagnetism
</h1>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/02/18/Physics/Electromagnetism/" class="article-date">
  <time datetime="2020-02-18T05:32:41.000Z" itemprop="datePublished">2020-02-18</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/Physics/">Physics</a>
  </div>

      
      
<div class="word_count">
    <span class="post-time">
        <span class="post-meta-item-icon">
            <i class="ri-quill-pen-line"></i>
            <span class="post-meta-item-text"> Word count:</span>
            <span class="post-count">7k</span>
        </span>
    </span>

    <span class="post-time">
        &nbsp; | &nbsp;
        <span class="post-meta-item-icon">
            <i class="ri-book-open-line"></i>
            <span class="post-meta-item-text"> Reading time≈</span>
            <span class="post-count">37 min</span>
        </span>
    </span>
</div>

      
    </div>
    

    
    
    <div class="tocbot"></div>





    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h1 id="电动力学笔记">电动力学笔记</h1>
<h2 id="麦克斯韦方程和规范理论概述起源杨振宁">0 麦克斯韦方程和规范理论概述起源（杨振宁）</h2>
<ul>
<li><p>Electrotonic state, Faraday<br />
<span class="math display">\[
H=\nabla \times A
\]</span></p></li>
<li><p>Maxwell <span class="math display">\[
Light=EM\ waves
\]</span></p></li>
<li><p>Maxwell : A Dynamical Theory of the Electromagnetic Field <span class="math display">\[
energy\;\ density=\frac{1}{8\pi ^2}(E^2+H^2)
\]</span></p></li>
<li><p>Dirac‘s sea</p></li>
<li><p>Renormalization <span class="math display">\[
\alpha=(g-2)/2
\]</span></p></li>
<li>gauge theory 规范理论, non-Abelian gauge theory, 重整化群</li>
<li><p>Symmetry breaking, Standard Mode</p></li>
</ul>
<p><strong>“妙的地方”</strong></p>
<p>$ \ $ <a id="more"></a></p>
<h2 id="矢量分析整理">1 矢量分析整理</h2>
<h3 id="符号约定">符号约定</h3>
<ul>
<li><p>Kronecker <span class="math display">\[
\delta_{ij}=\begin{cases}1\quad i=j,\\0 \quad i\neq j.\end{cases}
\notag
\]</span></p></li>
<li><p>Levi-Civita</p></li>
</ul>
<p><span class="math display">\[
\varepsilon_{ijk}=\begin{cases}1\quad (ijk)偶排列,\\ -1 \quad (ijk)奇排列, \\
0 \quad 下标中有两个相等.\end{cases}
\notag
\]</span></p>
<ul>
<li><p><span class="math display">\[
\begin{aligned}
&amp;\varepsilon_{ijk}\varepsilon_{lmn}=\left|\begin{array}{cccc} 
    \delta_{il} &amp; \delta_{im} &amp;  \delta_{in}\\ 
     \delta_{jl}&amp; \delta_{jm}&amp; \delta_{jn}\\ 
    \delta_{kl}&amp; \delta_{km}&amp; \delta_{kn}
\end{array}\right|\\
&amp;\varepsilon_{ijk}\varepsilon_{lmk}=\delta_{il}-\delta_{jm}
\end{aligned}
\]</span></p></li>
<li><p>Einstein 求和约定 <span class="math display">\[
A_i\vec e_i\equiv \sum_{i=1}^n A_i\vec e_i=\vec A\notag
\]</span></p></li>
</ul>
<h3 id="点乘和叉乘">点乘和叉乘</h3>
<p><span class="math display">\[
\begin{aligned}
&amp;\vec A\times \vec B=A_iB_j\varepsilon_{ijk}\vec e_k=
\left|\begin{array}{cccc} 
    \vec e_x &amp; \vec e_y &amp; \vec e_z \\ 
    B_x &amp; B_y &amp; B_z\\ 
    C_x &amp; C_y &amp; C_z 
\end{array}\right|\\
&amp;\vec A\cdot (\vec B\times\vec C)=\vec B\cdot (\vec C\times \vec A)=\vec C\cdot (\vec A\times \vec B)=
\left|\begin{array}{cccc} 
    A_x &amp; A_y &amp; A_z \\ 
    B_x &amp; B_y &amp; B_z\\ 
    C_x &amp; C_y &amp; C_z 
\end{array}\right| \\
&amp; \vec A\times (\vec B\times\vec C)=(\vec A\cdot \vec C)\vec B-(\vec A\cdot \vec B)\vec C\\
&amp; (\vec A\times \vec B)\times \vec C=(\vec A\cdot \vec C)\vec B-(\vec B\cdot\vec C)\vec A
\end{aligned}
\]</span></p>
<h3 id="多元微分">多元微分</h3>
<h4 id="理解">1. 理解</h4>
<p>（1）多元标量函数求导：梯度</p>
<p>（2）矢量函数求导可以看成有两种：散度、旋度</p>
<p>（3）标量函数可以求梯度，但无法求散度和旋度</p>
<p>（4）矢量函数可以求散度和旋度，但无法求梯度</p>
<h4 id="积规则">2. 积规则</h4>
<h4 id="梯度">（1）梯度</h4>
<ul>
<li><p>乘积 <span class="math display">\[
\nabla(fg)=f\nabla g+g\nabla f
\notag
\]</span></p></li>
<li></li>
</ul>
<p><span class="math display">\[
\nabla(\frac{f}{g})=\frac{g\nabla f-f\nabla g}{g^2}\notag
\]</span></p>
<ul>
<li>复合</li>
</ul>
<p><span class="math display">\[
\nabla [f(g)]=\nabla f\odot \nabla g
\notag
\]</span></p>
<ul>
<li>点乘</li>
</ul>
<p><span class="math display">\[
\nabla(\vec A\cdot \vec B)=\vec A\times(\nabla \times\vec B)+\vec B\times(\nabla\times\vec A)+(\vec A \cdot \nabla)\vec B+(\vec B\cdot \nabla )\vec A
\notag
\]</span></p>
<p>​</p>
<p>注意梯度算符同时具有矢量性和微分性。</p>
<h4 id="散度">（2）散度</h4>
<ul>
<li><p><span class="math display">\[
\nabla \cdot (f\vec A)=(\nabla f)\cdot\vec A+f (\nabla \cdot \vec A)
\notag
\]</span></p></li>
<li><p><span class="math display">\[
\nabla\cdot(\frac{\vec A}{g})=\frac{(\nabla\cdot \vec A)g-(\nabla g)\cdot \vec A}{g^2}
\notag
\]</span></p></li>
<li><p><span class="math display">\[
\nabla \cdot (\vec A\times \vec B)=\vec B\cdot (\nabla \times\vec A)-\vec A\cdot (\nabla\times \vec B)\notag
\]</span></p></li>
</ul>
<h4 id="旋度">（3）旋度</h4>
<ul>
<li><p><span class="math display">\[
\nabla\times(f\vec A)=(\nabla f)\times \vec A+f(\nabla\times \vec A)
\notag
\]</span></p></li>
<li><p><span class="math display">\[
\nabla\times(\frac{\vec A}{g})=\frac{(\nabla\times\vec A)g-(\nabla g)\times\vec A}{g^2}
\notag
\]</span></p></li>
<li><p><span class="math display">\[
\nabla\times(\vec A\times \vec B)=(\nabla\cdot \vec B)\vec A-(\nabla\cdot \vec A)\vec B+(\vec B\cdot \nabla)\vec A-(\vec A\cdot \nabla)\vec B
\notag
\]</span></p></li>
</ul>
<h4 id="二阶微分">（4）二阶微分</h4>
<ul>
<li><p>Laplace <span class="math display">\[
\Delta T\triangleq\nabla\cdot \nabla T
\notag
\]</span></p></li>
<li><p>梯度的旋度为零 <span class="math display">\[
\nabla\times(\nabla T)=0
\notag
\]</span></p></li>
<li><p>旋度的旋度 <span class="math display">\[
\nabla\times(\nabla\times\vec A)=\nabla(\nabla\cdot \vec A)-\nabla^2 \vec A
\notag
\]</span></p></li>
</ul>
<h4 id="波常用">3. 波常用</h4>
<ul>
<li><p><span class="math display">\[
\begin{align}
\nabla e^{i\vec k\cdot \vec r}&amp;=i\vec k e^{i\vec k\cdot \vec r}\\
\nabla^2e^{i\vec k\cdot \vec r}&amp;=\nabla\cdot(\nabla e^{i\vec k\cdot \vec r})\notag\\
&amp;=i(\nabla\cdot\vec k)e^{i\vec k\cdot \vec r}+i(\nabla e^{i\vec k\cdot\vec r})\cdot\vec k\notag\\
&amp;=-k^2 e^{i\vec k\cdot \vec r}
\end{align}
\]</span></p></li>
<li><p>平面波 $ E=E_0 e^{ikr}$ <span class="math display">\[
\begin{align}
\nabla\cdot\vec E&amp;=i\vec k \cdot \vec E\\
\nabla\times\vec E&amp;=i\vec k\times\vec E\\
\end{align}
\]</span></p></li>
</ul>
<h3 id="多元积分">多元积分</h3>
<h4 id="总广义stokes定理">1. 总：广义Stokes​定理</h4>
<p><span class="math display">\[
\int_V dw=\int_{\partial V}w
\]</span></p>
<h4 id="理解-1">2. 理解</h4>
<p>（1）两边的矢量性/标量性要一致</p>
<p>（2）分两类，一类是两边都是标量，一类是两边都是矢量</p>
<h4 id="积分公式">3. 积分公式</h4>
<p>可以通过同时点乘或叉乘常矢量 <span class="math inline">\(\vec c\)</span> ，然后使用积规则（类似分布积分）证明出。</p>
<h4 id="梯度-1">（1）梯度</h4>
<ul>
<li>梯度的线积分不依赖于路径</li>
</ul>
<p><span class="math display">\[
\int _a^b (\nabla T)\cdot d\vec \ell=T(b)-T(a)
\notag
\]</span></p>
<ul>
<li><span class="math display">\[
\int_V (\nabla T)d\tau=\int_{\partial V}Td\vec\sigma
\notag
\]</span></li>
</ul>
<h4 id="散度-1">（2）散度</h4>
<ul>
<li><p><span class="math display">\[
(Gauss)\qquad \int_V(\nabla\cdot \vec A) d\tau=\int_{\partial V}\vec A\cdot d\vec \sigma
\notag
\]</span></p></li>
<li><p><span class="math display">\[
\int_S (\nabla\cdot \vec A)d\vec\sigma=\int_{\partial S}\vec A\times d\vec \ell
\notag
\]</span></p></li>
</ul>
<h4 id="旋度-1">（3）旋度</h4>
<ul>
<li><span class="math display">\[
\int _V(\nabla \times \vec A)d\tau=\int_{\partial V} d\vec \sigma\times\vec A=-\int_{\partial V}\vec A\times d\vec \sigma
\notag
\]</span></li>
</ul>
<p>​ 注意 <span class="math inline">\(\vec A\)</span> 始终要在叉乘符号的右边</p>
<ul>
<li><p><span class="math display">\[
(Stokes)\qquad \int_S(\nabla\times\vec A)\cdot d\vec\sigma=\int_{\partial S}\vec A\cdot d\vec \ell
\notag
\]</span></p></li>
<li><p><span class="math display">\[
\int_S (\nabla T)\times d\vec \sigma=-\int_{\partial S}Td\vec \ell
\notag
\]</span></p></li>
</ul>
<p>​ 注意左边是旋度积分而且两边都是矢量性的，如果右边积分变量写正常，多个负号</p>
<h3 id="狄拉克函数">狄拉克函数</h3>
<ul>
<li>考虑一个正交的曲线坐标系，它由三个参数 <span class="math inline">\(u,v,w\)</span> 来确定（<span class="math inline">\(u=const,v=const,w=const\)</span> 的面互相垂直）。沿着三个相互垂直的方向的无穷小线元的长度分别是 <span class="math inline">\(du/U,dv/V,dw/W\)</span> 。则：</li>
</ul>
<p><span class="math display">\[
\delta^{(3)}(\vec x-\vec x&#39;)=\delta(u-u&#39;)\delta(v-v&#39;)\delta(w-w&#39;)UVW
\]</span></p>
<ul>
<li><span class="math display">\[
-\nabla^2\frac{1}{|\vec r-\vec r&#39;|^2}=\nabla \cdot (\frac{\vec r - \vec r&#39;}{|\vec r-\vec r&#39;|^3})=4\pi\delta^3(\vec r-\vec r&#39;)
\notag
\]</span></li>
</ul>
<h3 id="位置矢量-vec-r-相关">位置矢量 <span class="math inline">\(\vec r\)</span> 相关</h3>
<ul>
<li>定义</li>
</ul>
<p><span class="math display">\[
\vec r=x\vec e_x+y\vec e_y+z\vec e_z\\
r=\sqrt{x^2+y^2+z^2}
\notag
\]</span></p>
<ul>
<li><p><span class="math inline">\(r\)</span> <span class="math display">\[
\begin{aligned}
\nabla r=\frac{\vec r}{|r|}=\vec e_r
\end{aligned}
\]</span></p></li>
<li><p><span class="math inline">\(\vec r\)</span></p></li>
</ul>
<p><span class="math display">\[
\begin{aligned}
\nabla\cdot \vec r=3\\
\nabla\times \vec r=0
\end{aligned}
\]</span></p>
<ul>
<li><span class="math inline">\(\displaystyle\frac{1}{r}\)</span></li>
</ul>
<p><span class="math display">\[
\nabla(\frac{1}{r})=-\frac{\nabla r}{r^2}=-\frac{\vec e_r}{r^2}=-\frac{\vec r}{r^3}
\notag
\]</span></p>
<p><span class="math display">\[
\nabla^2 \frac{1}{r}=-4\pi\delta(r)
\notag
\]</span></p>
<ul>
<li><p><span class="math inline">\(\vec e_r\)</span> <span class="math display">\[
\nabla \cdot \vec e_r=\frac{2}{r}
\notag
\]</span></p></li>
<li><p><span class="math inline">\(\displaystyle \frac{\vec e_r}{r^2}\)</span> <span class="math display">\[
\notag
\nabla\cdot \frac{\vec e_r}{r^2}=0\\
\nabla\frac{\vec e_r}{r^2}=\frac{\nabla \vec r r^3-(\nabla r^3)\vec r}{r^6}=\frac{\overleftrightarrow I-3\vec e_r\vec e_r}{r^3}
\]</span></p></li>
</ul>
<p>以上对 <span class="math inline">\(\vec r-\vec r’\)</span> 同样适用。</p>
<h3 id="张量相关">张量相关</h3>
<p><span class="math display">\[
\begin{aligned}
&amp;\iint \vec e_r d\Omega =0\\
&amp;\iint \vec e_r\vec e_r d\Omega=\frac {4\pi}{3}\overleftrightarrow I
\end{aligned}
\]</span></p>
<h2 id="电磁学公式">2 电磁学公式</h2>
<h3 id="高斯定律">高斯定律</h3>
<p><span class="math display">\[
\nabla\cdot \vec E(\vec r)=\frac{\rho(r)}{\varepsilon_0}
\]</span></p>
<h3 id="电流密度">电流密度</h3>
<p><span class="math display">\[
\vec j=\rho_{+}\vec v_++\rho_-\vec v_-
\]</span></p>
<h3 id="电荷的连续性方程">电荷的连续性方程</h3>
<p><span class="math display">\[
\frac{\partial\rho}{\partial t}+\nabla\cdot \vec j=0
\]</span></p>
<h3 id="毕奥萨伐尔定律">毕奥—萨伐尔定律</h3>
<p><span class="math display">\[
\begin{aligned}
&amp;d\vec B(\vec r)=\frac{\mu_0}{4\pi}\frac{\vec j(\vec r&#39;)\times \vec e(\vec r-\vec r&#39;)}{|\vec r-\vec r&#39;|^2}d\tau&#39;\\
&amp;\vec B(\vec r)=\frac{\mu_0}{4\pi}\int_V\frac{\vec j(\vec r&#39;)\times \vec e(\vec r-\vec r&#39;)}{|\vec r-\vec r&#39;|^2}d\tau&#39;=\nabla\times\vec A\\
&amp;\vec A=\frac{\mu_0}{4\pi}\int_V\frac{j(\vec r&#39;)}{|\vec r -\vec r&#39;|}d\tau&#39;
\end{aligned}
\]</span></p>
<h3 id="安培定律">安培定律</h3>
<p><span class="math display">\[
\oint \vec B\cdot d\vec \ell=\mu_0\sum I
\]</span></p>
<h3 id="磁场对电流的力密度">磁场对电流的力密度</h3>
<p>施加在单位体积内在流体上的力。 <span class="math display">\[
f=j\times B
\]</span></p>
<h3 id="法拉第电磁感应定律">法拉第电磁感应定律</h3>
<p><span class="math display">\[
\mathcal{E}=-\frac{d\Phi}{dt}=\oint \vec E\cdot d\vec \ell ,\quad \Phi=\int_S\vec B\cdot d\vec \sigma
\]</span></p>
<h2 id="麦克斯韦方程组">3 麦克斯韦方程组</h2>
<h3 id="原始形式">原始形式</h3>
<p><span class="math display">\[
\begin{aligned}
\nabla\cdot \vec E&amp;=\frac{\rho}{\varepsilon_0}\\
\nabla\times \vec E&amp;=-\frac{d\vec  B}{dt}\\
\nabla \cdot\vec  B&amp;=0\\
\nabla\times\vec  B&amp;=\mu_0 \vec j+\varepsilon_0\mu_0\frac{\partial \vec E}{\partial t}
\end{aligned}
\]</span></p>
<h3 id="介质形式">介质形式</h3>
<p><span class="math display">\[
\begin{aligned}
\nabla\cdot \vec D&amp;=\rho\\
\nabla\times \vec E&amp;=-\frac{d \vec B}{dt}\\
\nabla \cdot \vec B&amp;=0\\
\nabla\times \vec H&amp;=\vec  j+\frac{\partial\vec  D}{\partial t}
\end{aligned}
\]</span></p>
<p>其中： <span class="math display">\[
\begin{aligned}
\vec D&amp;=\varepsilon_0\vec E+\vec P\\
\vec H&amp;=\frac{1}{\mu_0}\vec B-\vec M
\end{aligned}
\]</span> 其中：</p>
<p><span class="math inline">\(\vec P=\rho_p\vec \ell\)</span> 为极化强度，是单位体积内分子的总偶极矩。</p>
<p><span class="math inline">\(\vec M\)</span> 为单位体积内的磁矩。</p>
<p>这一部分需要再细细整理。</p>
<h3 id="边界条件">边界条件</h3>
<p>$$ \begin{aligned} D^{}_1-D_2^&amp;=_f\ E_1<sup>{}-E</sup>{}_2&amp;=0 \ H_1<sup>{}-H_2</sup>{}&amp;=K_fn\ B_1<sup>-B_2</sup>&amp;=0</p>
<p>\end{aligned} $$</p>
<h2 id="电磁场能动量">4 电磁场能动量</h2>
<h3 id="能量">能量</h3>
<p>能流密度： <span class="math display">\[
\vec S=\frac{1}{\mu_0}\vec E\times \vec B\\
\]</span> 电磁场能量密度： <span class="math display">\[
w=\frac{1}{2}(\varepsilon_0 E^2+\frac{1}{\mu_0}B^2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             )
\]</span></p>
<h3 id="麦克斯韦应力张量">麦克斯韦应力张量</h3>
<p>$$ \begin{aligned} f&amp;=E+vB=E+jB\ &amp;=-_0_0</p>
<p>\end{aligned} $$</p>
<p>其中，麦克斯韦应力张量： <span class="math display">\[
\overleftrightarrow{\mathcal{T}}=\varepsilon_0\vec E\vec E+\frac{1}{\mu_0}\vec B\vec B-\frac{1}{2}\big(\varepsilon_0\vec E^2+\frac{1}{\mu_0}\vec B^2\big)\overleftrightarrow I
\]</span> 分量形式为： <span class="math display">\[
T_{ij}=\varepsilon_0(E_iE_j-\frac 1 2 \delta_{ij}E^2)+\frac 1 \mu_0 (B_iB_j-\frac 1 2 \delta_{ij}B^2)
\]</span></p>
<p>空间 <span class="math inline">\(V\)</span> 内电荷所受合力为： <span class="math display">\[
\vec F=\int_V\vec f d\tau=\int_S\overleftrightarrow{\mathcal{T}}\cdot d\vec \sigma-\varepsilon_0\mu_o\frac{d}{dt}\int_V \vec S d\tau
\]</span></p>
<h3 id="动量">动量</h3>
<p><span class="math display">\[
\begin{aligned}
&amp;\vec f=\frac{d\vec p_{mech}}{dt}=-\frac{d}{dt}(\varepsilon_0\mu_0\vec S)+\nabla\cdot\overleftrightarrow {\mathcal{T}}\\
\iff &amp;\frac{d}{dt}\bigg(\vec p_{mech}+\vec g\bigg)=-\nabla\cdot\overleftrightarrow{\Tau}
\end{aligned}
\]</span></p>
<p>其中 <span class="math inline">\(\vec p_{mech}\)</span> 为机械动量密度， <span class="math inline">\(\vec g\equiv\vec p_{em}\)</span> 为电磁动量密度，<span class="math inline">\(\overleftrightarrow \Tau=-\overleftrightarrow{\mathcal{T}}\)</span> 为动量流密度。</p>
<p>电磁场动量密度 <span class="math display">\[
\vec g=\varepsilon_0\mu_0\vec S=\frac{1}{c^2}\vec S
\]</span> 动量流密度 <span class="math display">\[
\overleftrightarrow\Tau=\frac{1}{2}\big(\varepsilon_0\vec E^2+\frac{1}{\mu_0}\vec B^2\big)\overleftrightarrow I-\varepsilon_0\vec E\vec E-\frac{1}{\mu_0}\vec B\vec B
\]</span></p>
<h3 id="角动量">角动量</h3>
<p>电磁场角动量密度 <span class="math display">\[
\vec \ell_{em}=\vec r\times\vec g=\varepsilon_0\big[\vec r\times\vec E\times \vec B\big]
\]</span></p>
<h3 id="电磁辐射压强">电磁辐射压强</h3>
<p><span class="math display">\[
\mathcal{P}=\frac{\Delta F}{\Delta A}=\frac{g\Delta V}{\Delta t\Delta A}=\frac{g\Delta \ell}{\Delta t}=cg
\]</span></p>
<p>这是完全吸收时的辐射压强，其中 <span class="math inline">\(c\)</span> 为光速。</p>
<p>不完全吸收时, <span class="math inline">\(\mathcal{P}=cg(1+r)\)</span> , 其中 <span class="math inline">\(r\)</span> 为反射系数。</p>
<h2 id="静电问题">6 静电问题</h2>
<h3 id="电势">电势</h3>
<p><span class="math display">\[
\begin{aligned}
V(\vec r)&amp;\equiv -\int _{\mathcal{O}}^ r\vec E\cdot d\vec \ell\\
&amp;=\int_r^\infty \vec E\cdot d\vec \ell
\end{aligned}
\]</span></p>
<h3 id="多极展开">多极展开</h3>
<h4 id="原理">原理</h4>
<ul>
<li><p>泰勒定理</p>
<p>若函数 <span class="math inline">\(f\)</span> 在点 <span class="math inline">\(P_0(x_0,y_0)\)</span> 点邻域 <span class="math inline">\(U(P_0)\)</span> 上有直到 <span class="math inline">\(n+1\)</span> 阶的连续偏导数，则对 <span class="math inline">\(U({_0})\)</span> 内任一点 <span class="math inline">\((x_0+h,y_0+k)\)</span> ，存在相应的 <span class="math inline">\(\theta\in(0,1)\)</span> ，使得 <span class="math display">\[
\begin{aligned}
f(x_0+h,y_0+k)=&amp;f(x_0,y_0)+\bigg(h\frac{\partial}{\partial x}+k\frac{\partial}{\partial y}\bigg)f(x_0,y_0)\\
&amp;+\frac{1}{2!}\bigg(h\frac{\partial}{\partial x}+k\frac{\partial}{\partial y}\bigg)^2f(x_0,y_0)+\cdots\\
&amp;+\frac{1}{n!}\bigg(h\frac{\partial}{\partial x}+k\frac{\partial}{\partial y}\bigg)^n f(x_0,y_0)\\
&amp;+\frac{1}{(n+1)!}\bigg(h\frac{\partial}{\partial x}+k\frac{\partial}{\partial y}\bigg)^{n+1}f(x_0+\theta h,y_0+\theta k)
\end{aligned}
\]</span></p></li>
<li><p>场量的泰勒展开：对 <span class="math inline">\(f(\vec x-\vec x’)\)</span> 在 <span class="math inline">\(\vec x’=0\)</span> 附近展开</p></li>
</ul>
<p><span class="math display">\[
\begin{aligned}
f(\vec x-\vec x&#39;)&amp;=f(\vec x)-\sum_{i=1}^3 x_i\frac{\partial f}{\partial x_i}+\frac{1}{2!}\sum_{i,j}x_i x_j \frac{\partial^2 f}{\partial x_i\partial x_j}+\cdots\\
&amp;=f(\vec x)-\vec x&#39;\cdot \nabla f(\vec x)+\frac{1}{2}\vec x&#39;\vec x&#39;\colon \nabla\nabla f(\vec x)+\cdots
\end{aligned}
\]</span></p>
<p>$$ \begin{aligned} &amp;()=-=- \ &amp;()=-=</p>
<p>\end{aligned} $$</p>
<ul>
<li><p>常用展开：把 <span class="math inline">\(\displaystyle \frac{1}{|\vec r- \vec r|}\)</span> 在 <span class="math inline">\(\vec r’=0\)</span> 附近作泰勒展开 <span class="math display">\[
\frac{1}{|\vec r-\vec r&#39;|}=\frac{1}{r}+\frac{\vec r&#39;\cdot\vec e_r}{r^2}+\frac{(3\vec r&#39;\vec r&#39;-r&#39;^2\overleftrightarrow I):\vec e_r\vec e_r}{2r^3}+\cdots
\notag
\]</span></p></li>
<li><p>更方便地展开：把 <span class="math inline">\(\displaystyle \frac{1}{|\vec r- \vec r|}\)</span> 展开成勒让德多项式 ( <span class="math inline">\(r\)</span> 很大时) <span class="math display">\[
\begin{aligned}
\frac{1}{|\vec r-\vec r&#39;|}&amp;=\frac{1}{\sqrt{r^2+r&#39;^2-2rr&#39;\cos\theta&#39;}}\\
&amp;=\sum_{n=0}^\infty \frac{(r&#39;)^n}{r^{n+1}}P_n(\cos\theta&#39;)\\
&amp;=\frac{1}{r}+\frac{r&#39;}{r^2}\cos\theta&#39;+\frac{r&#39;^2}{r^3}[\frac{1}{2}(3\cos^2\theta&#39;-1)]+\cdots\\
&amp;=\frac{1}{r}+\frac{\vec r&#39;\cdot\vec e_r}{r^2}+\frac{(r&#39;)^2(3\cos^2\theta&#39;-1)}{2r^3}+\cdots
\end{aligned}
\]</span></p></li>
</ul>
<h4 id="静电场的多极展开">静电场的多极展开</h4>
<h4 id="单极">单极</h4>
<p><span class="math display">\[
\varphi_1=\frac{1}{4\pi\epsilon_0}\frac{Q}{r}
\notag
\]</span></p>
<h4 id="偶极">偶极</h4>
<p><span class="math display">\[
\varphi_2=\frac{1}{4\pi\epsilon_0}\frac{\vec p\cdot \vec e_r}{r^2}
\notag
\]</span></p>
<ul>
<li>电偶极矩 <span class="math display">\[
\vec p=\int_V\vec r\cdot\rho(\vec r) d\tau
\notag
\]</span> <span class="math inline">\(\vec r\)</span> 为每个电荷的位置矢量</li>
</ul>
<h4 id="四极">四极</h4>
<p><span class="math display">\[
\varphi_3=\frac{1}{4\pi\epsilon_0}\frac{\overleftrightarrow{\mathcal{D}}\colon(3\vec e_r\vec e_r-\overleftrightarrow I)}{2r^3}=\frac{1}{4\pi\epsilon_0}\frac{\overleftrightarrow {D}\colon \vec e_r\vec e_r}{2r^3}
\]</span></p>
<ul>
<li><p>二级矩 <span class="math display">\[
\overleftrightarrow{\mathcal{D}}=\sum_n q_n\vec r_n\vec r_n\\
\overleftrightarrow{\mathcal{D}}=\int_V \rho(\vec r)\cdot \vec r\vec r d\tau\\
\notag
\]</span></p></li>
<li><p>四极矩</p></li>
</ul>
<p><span class="math display">\[
\overleftrightarrow D=3\overleftrightarrow{\mathcal{D}}-tr(\overleftrightarrow{\mathcal{D}})\overleftrightarrow{I}
\notag
\]</span></p>
<ul>
<li><p>四极矩的性质</p>
<ul>
<li>对称性：<span class="math inline">\(D_{ij}=D_{ji}\)</span></li>
<li>无迹性： <span class="math inline">\(tr(\overleftrightarrow D)=0\)</span></li>
</ul></li>
</ul>
<h3 id="电偶极子在电场中的受力">电偶极子在电场中的受力</h3>
<h4 id="位能与受力">位能与受力</h4>
<p><span class="math display">\[
\begin{aligned}
U&amp;=-\vec p\cdot\vec E\\
\vec F&amp;=-\nabla U=\nabla(\vec p\cdot \vec E)
\end{aligned}
\]</span></p>
<h4 id="力矩">力矩</h4>
<p><span class="math display">\[
\vec \tau=\vec p\times \vec E\notag
\]</span></p>
<h3 id="唯一性定理">唯一性定理</h3>
<ul>
<li>若边界上的电势或者电势的法向变化率已知</li>
<li>除导体外， <span class="math inline">\(V\)</span> 内电荷分布一致，表面有已知的第一类或第二类边界条件。若导体表面电势已知</li>
<li>若导体所带的总电量已知</li>
</ul>
<p>满足一点，则区域 <span class="math inline">\(V\)</span> 内的电势分布有唯一解。</p>
<h3 id="电像法">电像法</h3>
<p>对球类电场，可以添加镜像电荷使球面电势为 <span class="math inline">\(0\)</span>, 若导体球带电荷 <span class="math inline">\(Q\)</span> ，再于球心放置一个电荷量为 <span class="math inline">\(Q\)</span> 的等效电荷。</p>
<p>球半径为 <span class="math inline">\(R\)</span> , 原电荷在距球心 <span class="math inline">\(a\)</span> 处，电荷量为 <span class="math inline">\(q\)</span> , 则镜像电荷放置到距球心 <span class="math inline">\(\displaystyle\frac{R^2}{a}\)</span> 处，电荷量为 <span class="math inline">\(\displaystyle-\frac{R}{a} q\)</span> .</p>
<h3 id="格林函数法">格林函数法</h3>
<ul>
<li>格林函数 <span class="math inline">\(G\)</span> ：</li>
</ul>
<p><span class="math display">\[
\Delta G=\delta^{(3)}(\vec x-\vec x&#39;)
\notag
\]</span></p>
<ul>
<li><p>各种解：</p></li>
<li><p>应用：</p></li>
</ul>
<h2 id="静磁问题">7 静磁问题</h2>
<h3 id="电流">电流</h3>
<p>电流由库仑每秒来量度， <span class="math inline">\(1A=1C/s\)</span></p>
<ul>
<li><p>线电流 : $I=v=I d$</p></li>
<li>面电流密度 : <span class="math inline">\(\displaystyle\vec K\equiv\frac{d\vec I}{dl_{\perp}}=\sigma\vec v\)</span> （电流带带上的电流除以带宽度） <span class="math inline">\(I=\displaystyle\int_\ell \vec K\cdot d\vec \ell\)</span></li>
<li><p>体电流密度 : <span class="math inline">\(\displaystyle\vec J\equiv\frac{d\vec I}{da_{\perp}}=\rho \vec v\)</span> （垂直于电流方向上单位面积流过的电流） <span class="math inline">\(I=\displaystyle\int_S \vec J\cdot d\vec \sigma\)</span></p></li>
</ul>
<p>注： <span class="math display">\[
\begin{aligned}
\vec jd\tau&amp;=C\delta(r-a)\delta(\theta-\frac\pi 2)d\varphi \vec e_\varphi\\
Id\vec \ell&amp;=Iad\varphi\vec e_\varphi\\
&amp;=\int_{d\ell}\vec j(\vec r)d\tau=\vec e_\varphi\int _{d\varphi}C\delta(r-a)\delta(\theta-\frac\pi 2)r^2\sin\theta \, dr d\theta d \varphi\\
&amp;=Ca^2d\varphi\vec e_\varphi\\
\implies C&amp;=\frac{I}{a}\\
\therefore\int \vec j(\vec r)d\tau&amp;=\int\vec e_\varphi \frac I a\delta(r-a)\delta(\theta-\frac\pi 2)r^2\sin\theta\, drd\theta d\varphi \\
&amp;=I\int\vec e_\varphi a\,d\varphi=I\int d\vec \ell
\end{aligned}
\]</span> <strong>相关公式</strong></p>
<ul>
<li>表面电流密度 <span class="math inline">\(\vec K=\vec M\cdot \hat n\)</span></li>
<li><p>内部体电流密度 <span class="math inline">\(\vec J=\nabla\times \vec M\)</span></p></li>
<li><p>磁感应强度 <span class="math inline">\(\vec B=\mu_0 \vec K\)</span></p></li>
</ul>
<h3 id="受力">受力</h3>
<h4 id="一段载流导线">一段载流导线</h4>
<p><span class="math display">\[
\begin{aligned}
\vec F&amp;=\int (\vec v\times \vec B)dq=\int (\vec v\times\vec B)\lambda d l=\int (\vec I\times \vec B)dl\\
&amp;=I\int \vec d\ell\times\vec B
\end{aligned}
\]</span></p>
<h4 id="磁偶极子">磁偶极子</h4>
<p><span class="math display">\[
\begin{aligned}
U&amp;=-\vec m\cdot \vec B\\
\vec F&amp;=\nabla(\vec m\cdot \vec B)\\
\vec \tau&amp;=\vec m\times\vec B
\end{aligned}
\]</span></p>
<h3 id="源起">源起</h3>
<p>静磁场满足的微分方程： <span class="math display">\[
\begin{aligned}
&amp;\nabla\cdot \vec B=0\\
&amp; \nabla\times \vec B=\mu_0\vec j\\
&amp;\nabla\cdot \vec j=0
\end{aligned}
\]</span></p>
<h3 id="磁矢势">磁矢势</h3>
<p><span class="math inline">\(\nabla\times\vec A=0\)</span> 在库仑规范 <span class="math inline">\(\nabla\cdot \vec A=0\)</span> 下得到矢量泊松方程 <span class="math inline">\(\nabla^2\vec A=-\mu_0\vec j\)</span></p>
<p>磁库仑解为： <span class="math display">\[
\vec A=\frac{\mu_0}{4\pi}\int_全 \frac{\vec j(\vec r&#39;)}{|\vec r-\vec r&#39;|}d\tau&#39;
\notag
\]</span> 具体： <span class="math display">\[
\begin{aligned}
\vec A&amp;=\frac{\mu_0}{4\pi}\int_V \frac{\vec J(\vec r&#39;)}{|\vec r-\vec r&#39;|}d\tau&#39;（体电流产生的磁矢势）\\
&amp;=\frac{\mu_0}{4\pi}\int_S \frac{\vec K(\vec r&#39;)}{|\vec r-\vec r&#39;|}da&#39;（面电流产生的磁矢势）\\
&amp;=\frac{\mu_0}{4\pi}\int_l \frac{\vec I(\vec r&#39;)}{|\vec r-\vec r&#39;|}dl&#39;=\frac{\mu_0 I}{4\pi}\int_l \frac{1}{|\vec r-\vec r&#39;|}d\vec \ell（线电流产生的磁矢势）
\end{aligned}
\]</span></p>
<p>由此可得到毕奥-萨伐尔定律： <span class="math display">\[
\begin{aligned}
\vec B&amp;=\nabla\times \vec A=\frac{\mu_0}{4\pi}\int_全 \nabla\times\bigg(\frac{\vec j(\vec r&#39;)}{|\vec r-\vec r&#39;|}\bigg)d\tau&#39;\\
&amp;=\frac{\mu_0}{4\pi}\vec e_k\int_全 \varepsilon_{ijk}\partial_i \bigg(\frac{\vec j_j(\vec r&#39;)}{|\vec r-\vec r&#39;|}\bigg)d\tau&#39; \\
&amp;=\frac{\mu_0}{4\pi}\vec e_k\int_全\varepsilon_{ijk}\frac{-(x_i-x_i&#39;)}{|\vec r-\vec r&#39;|^3}j_j(\vec r&#39;)d\tau&#39;\\
&amp;=\frac{\mu_0}{4\pi}\int _全 \vec j(\vec r&#39;)\times\frac{\vec r-\vec r&#39;}{|\vec r-\vec r&#39;|^3}d\tau&#39;\\
&amp;=\frac{\mu_0}{4\pi}\int_全 \frac{\vec j(\vec r&#39;)\times e(\vec r-\vec r&#39;)}{|\vec r-\vec r&#39;|^2 }d\tau&#39;\\
&amp;=\frac{\mu_0}{4\pi}I\int_l \frac{\vec d\ell&#39;\times e(\vec r-\vec r&#39;)}{|\vec r-\vec r&#39;|^2}（线电流）\\
&amp;=\frac{\mu_0}{4\pi}\int_S \frac{\vec K(\vec r&#39;)\times e(\vec r-\vec r&#39;)}{|\vec r-\vec r&#39;|^2}da&#39; （面电流）\\
&amp;=\frac{\mu_0}{4\pi}\int_V \frac{\vec J(\vec r&#39;)\times e(\vec r-\vec r&#39;)}{|\vec r-\vec r&#39;|^2 }d\tau&#39;（体电流）
\end{aligned}
\]</span></p>
<p>一般地，磁矢势的方向和电流方向一致。</p>
<p>对称性好的情况下，已知磁感应强度利用磁通量求磁矢势（类似安培定理）： <span class="math display">\[
\begin{aligned}
\oint\vec A\cdot d\vec \ell=\int_S(\nabla\times\vec A) \cdot da=\int_S \vec B\cdot d\vec a=\Phi
\end{aligned}
\]</span></p>
<h3 id="磁矢势多极展开">磁矢势多极展开</h3>
<p><span class="math display">\[
\begin{aligned}
\vec A&amp;=\frac{\mu_0}{4\pi}\int\frac{\vec j(\vec r&#39;)}{|\vec r-\vec r&#39;|}d\tau&#39;\\
&amp;=\frac{\mu_0}{4\pi}\sum_{n=0}^\infty \frac{1}{r^{n+1}}\int\vec j(\vec r&#39;)\big[(r&#39;)^n P_n(\cos\theta&#39;)\big]d\tau&#39;\\
&amp;=\frac{\mu_0}{4\pi}
\int\vec j(\vec r&#39;)\big[\frac 1 r+\frac {r&#39;\cos\theta&#39;}{r^2}+\frac{r&#39;^2(3\cos^2\theta&#39;-1)}{2r^3}+\cdots\big]d\tau&#39;\\
\\
\vec A_{偶极}&amp;=\frac{\mu_0}{4\pi}\int\vec j(\vec r&#39;)\frac{\vec r&#39;\cdot \vec e_r}{r^2}d\tau&#39;\\
&amp;\equiv\frac{\mu_0}{4\pi}\frac{\vec m \times\vec e_r}{r^2}\\
\\
\vec B_{偶极}&amp;=\frac {\mu_0}{4\pi}\frac{1}{r^3}\left[3(\vec m\cdot\vec e_r)\vec e_r-\vec m\right]
\end{aligned}
\]</span></p>
<ul>
<li>磁偶极矩 <span class="math inline">\(\vec m\)</span> :</li>
</ul>
<p><span class="math display">\[
\begin{aligned}
\vec m&amp;\equiv\frac 1 2\int\vec r&#39;\times\vec j(\vec r&#39;)d\tau&#39;
\end{aligned}
\]</span></p>
<p>​ 其中<span class="math inline">\(\vec j\)</span> 为电流密度。</p>
<ul>
<li><p>环形电流圈（半径为 <span class="math inline">\(a\)</span> ）： <span class="math display">\[
\begin{aligned}
\vec m&amp;=\frac1 2 I\oint \vec r&#39;\times d\vec \ell=\frac 1 2 Ia\cdot2\pi a\vec e_k=I\vec S\\
m&amp;=\frac {dq}{dt}S=\frac{q_e}{2\pi a/v}\pi a^2=\frac 1 2q_e v r
\\
\vec A_{偶}&amp;=\frac{\mu_0 I}{4\pi}\frac{\vec S\times \vec e_r}{r^2}\\
\vec B_{偶}&amp;=\nabla\times\vec A_{偶}=\frac{\mu_0}{4\pi}\frac{\vec m}{r^3}\cdot (3\vec e_r\vec e_r-\overleftrightarrow I)\\
&amp;=\frac{\mu_0}{4\pi}\frac{1}{r^3}[3(\vec m\cdot \vec e_r)\vec e_r-\vec m]
\end{aligned}
\]</span></p>
<p>对指向 <span class="math inline">\(z\)</span> 轴的 $m $ : <span class="math display">\[
\vec B_{偶}=\frac{\mu_0}{4\pi}\frac{m}{r^3}\left(2\cos\theta\vec e_r+\sin\theta\vec e_\theta\right)
\]</span></p></li>
</ul>
<h3 id="常用磁场">常用磁场</h3>
<p>长直导线 <span class="math display">\[
\vec B=\frac{\mu_0 I}{4\pi d}\left(\sin\theta_1-\sin\theta_2\right)
\]</span></p>
<h3 id="磁标势">磁标势</h3>
<p>已知磁化强度 <span class="math inline">\(\vec M\)</span>, 以及静磁方程： <span class="math display">\[
\begin{aligned}
&amp;\nabla\cdot\vec B=0\\
&amp;\nabla\times\vec H=\vec j\\
&amp;\vec B=\mu_0(\vec H+\vec M)
\end{aligned}
\]</span></p>
<p>对于没有传导电流的<em>单连通区域</em> <span class="math inline">\(V\)</span> : <span class="math inline">\(\nabla\times \vec H=0\)</span></p>
<p>所以存在磁标势 <span class="math inline">\(\varphi_m\)</span> : <span class="math inline">\(\vec H=-\nabla\varphi_m\)</span></p>
<p>由静磁方程推出：<span class="math inline">\(\nabla^2\varphi_m=\nabla\cdot \vec M\)</span></p>
<h2 id="电磁波的传播">8 电磁波的传播</h2>
<h3 id="能量-1">能量</h3>
<p><span class="math display">\[
\begin{aligned}
&amp;u=\frac 1 2 \varepsilon E^2+\frac{1}{2\mu}B^2=\varepsilon E^2=\frac{1}{\mu}B^2\\
&amp;\vec S=\frac{1}{\mu}\vec E\times\vec B=cu\hat k\\
&amp;\vec g=\frac 1 {c^2}\vec S=\frac 1 c u\hat k
\end{aligned}
\]</span></p>
<p>周期平均值： $$ \begin{aligned} fg&amp;=1 2 Re(fg ^*)\ u&amp;=1 2 E^2\ S&amp;=cu\</p>
<p>\end{aligned} <span class="math display">\[
强度与辐射压强：
\]</span> \begin{aligned} I&amp;S\ P&amp;=cg== \end{aligned} $$</p>
<h3 id="偏振">偏振</h3>
<h3 id="在线性介质中的传播">在线性介质中的传播</h3>
<p>由相位在边界上相等可以得到折射定律和反射定律，利用边界条件进一步分析可得到菲涅尔定律等。</p>
<h4 id="折射定律和反射定律的导出">折射定律和反射定律的导出</h4>
<p>$$ Ae<sup>{i(k_ir-t)}+Be</sup>{i(k_rr-t)}=Ce^{i(k_tr-t)}\</p>
<p>\begin{cases} <em>i=<em>r=<em>t=kc\ k_ir=k_rr=k_tr|</em>{z=0} \end{cases}\ \begin{aligned} &amp;k</em>{i_x}=k</em>{r_x}=k_{t_x}\ &amp;k_i_i=k_r_r=k_t_t \end{aligned} $$</p>
<p>进而可以推出折射定律和反射定律。</p>
<h4 id="菲涅尔定律">菲涅尔定律</h4>
<p>不抄了，利用边界条件推导即可，没必要记。</p>
<h4 id="布儒斯特角">布儒斯特角</h4>
<p>偏振方向平行界面入射的波以这角入射时反射波完全消失。 <span class="math display">\[
\theta_B=\arctan \frac{n&#39;}{n}
\]</span></p>
<h3 id="在导电介质中的传播">在导电介质中的传播</h3>
<h4 id="麦克斯韦方程">麦克斯韦方程</h4>
<p><span class="math display">\[
\begin{aligned}
\nabla\cdot \vec E&amp;=0\\
\nabla\cdot \vec B&amp;=0\\
\nabla\times\vec E&amp;=-\frac{\partial\vec B}{\partial t}\\
\nabla\times\vec B&amp;=\mu\varepsilon \frac{\partial \vec E}{\partial t}+\mu\sigma\vec E
\end{aligned}
\]</span></p>
<p>良导体。差别在磁场的旋度中多了一项。</p>
<h4 id="平面波解">平面波解</h4>
<p><span class="math display">\[
\widetilde E(z,t)=\widetilde E_0e^{-\kappa z}e^{i(kz-\omega t)}\\
\widetilde B(z,t)=\widetilde B_0e^{-\kappa z}e^{i(kz-\omega t)}\\
\notag
\]</span></p>
<p>注意电场与磁场不再同相，振幅的倍数也不再是 <span class="math inline">\(c\)</span> : <span class="math display">\[
\begin{aligned}
&amp;\widetilde B_0=\frac{\widetilde k}{\omega}\widetilde  E_0=\frac{Ke^{i\phi}}{\omega}\widetilde  E_0 \\
&amp;\frac{B_0}{E_0}=\frac{K}{\omega}=\sqrt{\varepsilon\mu\sqrt{1+\left(\frac{\sigma}{\varepsilon\omega}\right)^2}}
\end{aligned}
\]</span></p>
<h4 id="折射定律和反射定律">折射定律和反射定律</h4>
<p>仍然成立。</p>
<h3 id="波导">波导</h3>
<h4 id="边界条件-1">边界条件</h4>
<p><span class="math display">\[
\begin{cases}
\vec E^{\parallel}=0\\
\vec B^\perp=0
\end{cases}
\notag
\]</span></p>
<p>磁场和电场不同的边界条件导致 <span class="math inline">\(TE\)</span> 和 <span class="math inline">\(TM\)</span> 波的不同。</p>
<h4 id="重要方程">重要方程</h4>
<p>由于导体的影响，波导内的波一般不再是横波。推导中引入了纵向分量: <span class="math display">\[
\widetilde E_0=E_x\hat x+E_y \hat y +E_z\hat z\\
\widetilde B_0=B_x\hat x+B_y \hat y +B_z\hat z
\notag
\]</span> 代入麦克斯韦方程组可以写出各分量方程。</p>
<p>最后得到独立的 <span class="math inline">\(E_z\)</span> 和 <span class="math inline">\(B_z\)</span> 的方程： <span class="math display">\[
\left[\frac{\partial^2}{\partial x^2}+\frac{\partial^2}{\partial y^2}+\left(\frac{\omega}{c}\right)^2-k^2\right]E_z=0\\
\left[\frac{\partial^2}{\partial x^2}+\frac{\partial^2}{\partial y^2}+\left(\frac{\omega}{c}\right)^2-k^2\right]B_z=0
\]</span></p>
<h4 id="重要结论">重要结论</h4>
<p>中空波导中 <span class="math inline">\(TEM\)</span> 波不能发生。</p>
<h4 id="矩形波导">矩形波导</h4>
<h5 id="te-波"><span class="math inline">\(TE\)</span> 波</h5>
<p><span class="math inline">\(E_z=0\)</span>, 分离变量求解得： <span class="math display">\[
B_z=B_0\cos(\frac{m\pi}{a}x)\cos(\frac{n\pi}{b}y)
\notag
\]</span></p>
<h5 id="tm-波"><span class="math inline">\(TM\)</span> 波</h5>
<p><span class="math inline">\(B_z=0\)</span>. <span class="math display">\[
E_z=E_0\sin(\frac{m\pi}{a}x)\sin(\frac{n\pi}{b}y)
\notag
\]</span></p>
<h5 id="相关物理量">相关物理量</h5>
<p><span class="math display">\[
\begin{aligned}&amp;k_x=\frac{m\pi}{a},k_y=\frac{n\pi}{b}\\&amp;\omega_{mn}\equiv c\sqrt{k_x^2+k_y^2}=c\pi\sqrt{\left(\frac{m}{a}\right)^2+\left(\frac{n}{b}\right)^2}(\text{截断频率})\\&amp;k=\sqrt{\left(\frac{\omega}{c}\right)^2-k_x^2-k_y^2}=\frac{1}{c}\sqrt{\omega^2-\omega_{mn}^2}\end{aligned}
\]</span></p>
<h5 id="波速与群速度">波速与群速度</h5>
<p><span class="math display">\[
\begin{aligned}&amp;v=\frac \omega k=\frac{c}{\sqrt{1-(\omega/\omega_{mn})^2}}\\&amp;v_g=\frac{1}{dk/d\omega}=c \sqrt{1-(\omega/\omega_{mn})^2}\end{aligned}
\]</span></p>
<h2 id="电磁波的激发">9 电磁波的激发</h2>
<h3 id="麦克斯韦方程组的探讨">麦克斯韦方程组的探讨</h3>
<p><span class="math display">\[
\begin{align}
\nabla\cdot \vec E&amp;=-\frac {\rho(\vec r,t)}{\varepsilon}\label{E-divergence}\\
\nabla\times\vec E&amp;=-\frac{\partial \vec B}{\partial t}\label{E-curl}\\
\nabla\cdot\vec B&amp;=0\label{B-divergence}\\
\nabla \times\vec B&amp;=\mu\vec J+\varepsilon\mu\frac{\partial\vec E}{\partial t}\label{B-curl}
\end{align}
\]</span></p>
<p><span class="math inline">\(\vec J\)</span> 是电流密度。</p>
<p>由标势和矢势可以确定电场和磁场：</p>
<p>由 <span class="math inline">\((\ref{B-divergence})\)</span> 可得 <span class="math display">\[
\vec B=\nabla\times\vec A\label{B}
\]</span> 这将确定磁场。</p>
<p>由 <span class="math inline">\((\ref{E-curl})\)</span> 可得 <span class="math display">\[
\begin{align}
&amp;\nabla\times\left (\vec E+\frac{\partial \vec A}{\partial t}\right)=0\notag \\
\implies &amp;\vec E=-\nabla \varphi-\frac{\partial \vec A}{\partial t}\label{E}
\end{align}
\]</span> 这将确定电场。</p>
<p>由 <span class="math inline">\((\ref{E-divergence})\)</span> 和 <span class="math inline">\((\ref{B-curl})\)</span> 可以确定电荷分布和电流分布： <span class="math display">\[
\begin{align}
-\frac{\rho} \varepsilon&amp;=\nabla^2\varphi+\frac{\partial}{\partial t}(\nabla\cdot \vec A)\\
-\mu \vec J&amp;=\nabla^2\vec A-\varepsilon\mu\frac{\partial^2 }{\partial t^2}\vec A-\nabla\left(\nabla\cdot \vec A+\varepsilon\mu \frac{\partial}{\partial t }\varphi \right)
\end{align}
\]</span></p>
<p>麦克斯韦方程组本来有六个变量 <span class="math inline">\(E_x,E_y,E_z,B_x,B_y,B_z\)</span> ，利用矢势和标势将其浓缩为四个变量 <span class="math inline">\(A_x,A_y,A_z,V\)</span> ，留下两个自由度可以用来做规范变换。</p>
<h3 id="规范变换">规范变换</h3>
<h4 id="一般规范">一般规范</h4>
<p><span class="math display">\[
\begin{aligned}
&amp;\varphi\mapsto  \varphi&#39;=\varphi+\alpha(\vec r,t)\\
&amp;\vec A\mapsto  \vec A&#39;=\vec A+\vec \beta(\vec r,t)
\end{aligned}
\]</span></p>
<p>代入 <span class="math inline">\((\ref{B})\)</span> <span class="math inline">\(\vec B\)</span> 应保持不变，得到 <span class="math inline">\(\nabla\times\vec \beta=0\)</span></p>
<p>再代入 <span class="math inline">\((\ref{E})\)</span> <span class="math inline">\(\vec E\)</span> 也应保持不变，得到 <span class="math inline">\(\nabla \alpha+\displaystyle\frac{\partial\vec \beta}{\partial t}=0\)</span></p>
<p><span class="math inline">\(\implies\)</span> <span class="math display">\[
\begin{align}
&amp;\varphi\mapsto  \varphi&#39;=\varphi-\frac{\partial}{\partial t}\lambda \\
&amp;\vec A\mapsto  \vec A&#39;=\vec A+\nabla\lambda
\end{align}
\]</span></p>
<h4 id="库仑规范">库仑规范</h4>
<p>选取 <span class="math inline">\(\lambda\)</span> 使 <span class="math display">\[
\nabla\cdot \vec A=0\notag
\]</span></p>
<h4 id="洛伦兹规范">洛伦兹规范</h4>
<p>选取 <span class="math inline">\(\lambda\)</span> 使 <span class="math display">\[
\nabla\cdot \vec A+\epsilon\mu\frac{\partial}{\partial t}\varphi=0
\]</span></p>
<h3 id="推迟势">推迟势</h3>
<p><span class="math display">\[
\begin{align}
\varphi&amp;=\frac{1}{4\pi\varepsilon_0}\int \frac{\rho(\vec r&#39;,t_r)}{|\vec r-\vec r&#39;| }d\tau&#39;\\
\vec A&amp;=\frac {\mu_0}{4\pi}\int \frac{\vec J(\vec r&#39;,t_r)}{|\vec r-\vec r&#39;|}d\tau&#39;\\
t_r&amp;=t-\frac{|\vec r-\vec r&#39;|}{c}
\end{align}
\]</span></p>
<p>非静止状态下，信息不是源现在的状态，而是较早时间 <span class="math inline">\(t_r\)</span> 时信息离开当时的源时的状态。</p>
<p><strong>证明</strong>：</p>
<p>洛伦兹规范下，得到（真空中） <span class="math display">\[
\begin{cases}
\displaystyle
\nabla^2 \vec A-\frac 1 {c^2}\frac {\partial^2}{\partial t^2}\vec A=-\mu_0\vec J\\
\displaystyle
\nabla^2 \varphi-\frac 1 {c^2}\frac{\partial^2}{\partial t^2}\varphi=-\frac{\rho}{\varepsilon_0}
\end{cases}
\notag
\]</span> 考虑 <span class="math display">\[
\nabla^2 \psi-\frac 1 {c^2}\frac{\partial^2}{\partial t^2}\psi=-4\pi f(\vec r,t)
\notag
\]</span> 将 <span class="math inline">\(f\)</span> 写成点源形式 <span class="math display">\[
f(\vec r,t)=\int f(\vec r&#39;,t)\delta(\vec r-\vec r&#39;)d\tau&#39;
\notag
\]</span> 将 <span class="math inline">\(\psi\)</span> 也写成如此形式 <span class="math display">\[
\psi=\int G(\vec r-\vec r&#39;,t)d\tau&#39;
\notag
\]</span> 可以得到 <span class="math display">\[
\nabla^2 G-\frac 1 {c^2}\frac{\partial^2}{\partial t^2}G=-4\pi f(\vec r&#39;,t)\delta(\vec r-\vec r&#39;)
\notag
\]</span> 可以固定这时的 <span class="math inline">\(\vec r’\)</span> 为源点，利用球坐标拉普拉斯算子得到 <span class="math display">\[
\frac 1{r^2}\frac{\partial}{\partial r}\left(r^2\frac{\partial}{\partial r}G\right)-\frac 1 {c^2}\frac{\partial^2}{\partial t^2}G=0\qquad(\vec r\neq \vec 0)
\notag
\]</span> 令 <span class="math inline">\(R(\vec r,t)=r G(\vec r,t)\)</span>, 得到 <span class="math display">\[
\left(\frac{\partial}{\partial r}-\frac 1 c \frac{\partial}{\partial t}\right)\left(\frac{\partial}{\partial r}+\frac 1 c \frac{\partial}{\partial t}\right)R=0
\notag
\]</span> 引入光锥坐标 <span class="math display">\[
\begin{align}
u=r-ct\\
v=r+ct
\end{align}
\]</span> 可得 <span class="math display">\[
\begin{aligned}
&amp;4\frac{\partial^2}{\partial u \partial v}R=0\\
\implies\quad &amp;R(u,v)=g_1(k_1u)+g_2(k_2 v)
\end{aligned}
\]</span> 取 <span class="math inline">\(\displaystyle k_1=-\frac{1}{c},k_2=\frac 1 c\)</span> ，并舍去超前时间，最终得到 <span class="math display">\[
G=\frac 1 r g_1(t-\frac r c)\notag
\]</span></p>
<p><span class="math inline">\(\vec r\to \vec 0\)</span> 时，对时间的偏导相对梯度都可以略去，有 <span class="math display">\[
\begin{aligned}
\nabla^2 G(\vec r,t)&amp;=-4\pi f(\vec 0,t)\delta(\vec r)\\
\implies \lim_{\vec r\to\vec 0} G&amp;=\frac{f(\vec 0,t) }r
\end{aligned}
\]</span> 对比非零处可以得到 <span class="math display">\[
g_1(t-\frac r c)=f(\vec 0,t-\frac r c)\notag
\]</span></p>
<p>$$ \begin{aligned} G(r,t)&amp;=&amp; r'=0\ G(r-r',t)&amp;=&amp; r'0\ (r,t)&amp;=G(r-r',t)d'</p>
<p>\end{aligned} $$</p>
<h3 id="李纳-维谢尔势">李纳-维谢尔势</h3>
<p>特定轨迹 <span class="math inline">\(\vec w(t)\)</span> 的运动点电荷产生的势（推迟势）。 $$ <span class="math display">\[\begin{align}
\phi(\vec r,t)&amp;=\frac{1}{4\pi\varepsilon_0}\frac{q}{|\vec r-\vec w(t_r)|}\cdot \frac{1}{\displaystyle 1-\frac{\vec v(t_r)}{c}\cdot\frac{\vec r-\vec w(t_r)}{|\vec r-\vec w(t_r)|}}\\
&amp;=\frac{1}{4\pi\varepsilon_0}\frac{q}{|\vec R|}\cdot \frac{1}{\displaystyle1-\frac{\vec v(t_r)}{c}\cdot \hat R}
\\

\vec A(\vec r,t)&amp;=\frac{\vec v(t_r)}{c^2}\varphi(\vec r,t)
\end{align}\]</span> $$</p>
<p>注意这里面最终的时间都是推迟时间。</p>
<p>其中，有一些重要的量和关系经常用到： $$ <span class="math display">\[\begin{align}
\vec R&amp;=\vec r-\vec w(t_r)\\
t_r&amp;=t-\frac{|\vec r-\vec w(t_r)|}{c}=t-\frac{|\vec R|}{c}\\
\vec v(t)&amp;=\vec w&#39;(t)=\frac{d}{dt}\vec w(t)\\
\vec v(t_r)&amp;=\vec w &#39;(t_r)=\frac{d}{d t_r}\vec w(t_r)\\(&amp;=\frac {d}{dt}\vec w(t)\biggm|_{t=t_r}=\frac {d}{d t_r}\vec w(t)\cdot\frac{d t_r}{dt})\notag\\

\end{align}\]</span> $$</p>
<p>比较神奇的是，因子 <span class="math inline">\(\displaystyle\frac{1}{\displaystyle 1-\frac{\vec v(t_r)}{c}\cdot \hat R}\)</span> 恰好是 推迟时间对时间的导数： <span class="math display">\[
\begin{align}
&amp;c(t-t_r)= |\vec R|\\
\implies &amp;c(1-\partial_t t_r)=\partial_t R=\partial_{t_r}R\cdot \partial_t t_r\notag\\
\implies &amp;\partial_t t_r=\frac{1}{1-\displaystyle\frac 1 c\partial_{t_r}R}\notag\\
\notag \\
\because\quad \partial_{t_r}R&amp;\overset{技巧}{=}\frac{\partial\sqrt{\vec R\cdot \vec R}}{\partial t_r}\notag \\&amp;=\frac{\vec R}{R}\frac{\partial\vec R}{\partial t_r}\notag \\&amp;=\vec w&#39;(t_r)\cdot \hat {R}=\vec v\cdot \hat{R}\notag\\
\therefore\quad \partial_t t_r&amp;=\displaystyle\frac{1}{\displaystyle 1-\frac{\vec v(t_r)}{c}\cdot \hat R}
\end{align}
\]</span></p>
<h3 id="运动电荷的场">运动电荷的场</h3>
<h4 id="一般运动电荷的场">一般运动电荷的场</h4>
<p>艰难链式法则求导。 $$ <span class="math display">\[\begin{align}
\vec E&amp;=\frac q {4\pi\varepsilon_0}\frac{R}{(\vec R\cdot\vec u)^3}\left[(c^2-v^2)\vec u+\vec R\times (\vec u\times \vec a)\right]\\
\vec B&amp;=\frac 1 c \hat R\times\vec E\\ \notag \\

t_r&amp;=t-\frac{R}{c}\quad (or: c(t-t_r)=R)\label{t_r}\\

\vec R&amp;=\vec r-\vec w(t_r),\label{r-w(t_r)}\\ 
\vec u&amp;=c\hat R-\vec v,\\
\vec v&amp;=\vec v(t_r)=\partial_{t_r}w(t_r),=w&#39;(t_r)\notag
\\ \vec a&amp;=w&#39;&#39;(t_r)\notag
\end{align}\]</span> $$ 其中 ，<span class="math inline">\(\vec E\)</span> 的第一项为广义库仑场, 第二项为辐射场。由 <span class="math inline">\((\ref{t_r})\)</span> 和 <span class="math inline">\((\ref{r-w(t_r)})\)</span> 可以解出 <span class="math inline">\(t_r\)</span> 。</p>
<h4 id="匀速运动电荷的场">匀速运动电荷的场</h4>
<p><span class="math inline">\(\vec a=0,\vec w(t)=\vec v t\)</span>。 <span class="math display">\[
\begin{align}
\vec E(\vec r,t)&amp;=\frac{q}{4\pi\varepsilon_0}\frac{1-v^2/c^2}{\left(1-v^2\sin^2\theta/c^2\right)^{\frac 3 2}}\frac{\vec r-\vec v t}{|\vec r -\vec v t|^3}\\
\vec B&amp;=\frac 1 c \hat R\times \vec E=\frac 1 {c^2}(\vec v\times \vec E)
\end{align}
\]</span></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gebpwaba5qj30wa0rsjsw.jpg" style="zoom:25%;" /></p>
<p>运动垂直方向上： <span class="math display">\[
\vec E=\frac{q}{4\pi\varepsilon_0}\frac{1}{\rho^2}\frac{1}{\sqrt{1-v^2/c^2}}\vec e_\rho
\]</span> 运动水平方向上： <span class="math display">\[
\vec E=\frac{1}{4\pi\varepsilon_0}\frac 1 {\rho^2}\cdot(1-v^2/c^2)\vec e_\rho
\]</span></p>
<h2 id="习题">习题</h2>
<h3 id="高斯定律-1">高斯定律</h3>
<p>Three isolated infinite metal (i.e. conducting) slabs have their normals along the <em>z</em> axis, so the slabs are parallel to each other. The top slab has total charge <em>Q</em>, while the bottom slab has total charge <em>q</em>. Find the charge on the top surfaces of each slab and on the bottom surfaces of each slab. (<a href="chrome-extension://ohfgljdgelakfkefopgklcohadegdpjf/https://web.pa.msu.edu/people/duxbury/courses/phy481/Fall2009/MidtermIBSolutions-2009.pdf">Solusion</a>)</p>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
          
<div class="share-btn">
      <span class="share-sns share-outer">
        <i class="ri-share-forward-line"></i>
        分享
      </span>
      <div class="share-wrap">
        <i class="arrow"></i>
        <div class="share-icons">
          
          <a class="weibo share-sns" href="javascript:;" data-type="weibo">
            <i class="ri-weibo-fill"></i>
          </a>
          <a class="weixin share-sns wxFab" href="javascript:;" data-type="weixin">
            <i class="ri-wechat-fill"></i>
          </a>
          <a class="qq share-sns" href="javascript:;" data-type="qq">
            <i class="ri-qq-fill"></i>
          </a>
          <a class="douban share-sns" href="javascript:;" data-type="douban">
            <i class="ri-douban-line"></i>
          </a>
          <!-- <a class="qzone share-sns" href="javascript:;" data-type="qzone">
            <i class="icon icon-qzone"></i>
          </a> -->
          
          <a class="facebook share-sns" href="javascript:;" data-type="facebook">
            <i class="ri-facebook-circle-fill"></i>
          </a>
          <a class="twitter share-sns" href="javascript:;" data-type="twitter">
            <i class="ri-twitter-fill"></i>
          </a>
          <a class="google share-sns" href="javascript:;" data-type="google">
            <i class="ri-google-fill"></i>
          </a>
        </div>
      </div>
</div>

<div class="wx-share-modal">
    <a class="modal-close" href="javascript:;"><i class="ri-close-circle-line"></i></a>
    <p>扫一扫，分享到微信</p>
    <div class="wx-qrcode">
      <img src="//api.qrserver.com/v1/create-qr-code/?size=150x150&data=http://longqianh.com/2020/02/18/Physics/Electromagnetism/" alt="微信分享二维码">
    </div>
</div>

<div id="share-mask"></div>
      
      

    </footer>

  </div>

  
  
  <nav class="article-nav">
    
      <a href="/2020/02/18/Physics/Theoretical-mechanics/" class="article-nav-link">
        <strong class="article-nav-caption">上一篇</strong>
        <div class="article-nav-title">
          
            Theoretical Mechanics
          
        </div>
      </a>
    
    
      <a href="/2020/02/11/Other%20Things/2020/" class="article-nav-link">
        <strong class="article-nav-caption">下一篇</strong>
        <div class="article-nav-title">2020</div>
      </a>
    
  </nav>


  

  

  
  
  
  
  

</article>
</section>
      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2020
        <i class="ri-heart-fill heart_icon"></i> Longqian Huang
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>Visitors:<span id="busuanzi_value_site_uv"></span></s>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>Views:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
      </li>
    </ul>
  </div>
</footer>
      <div class="float_btns">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

      </div>
    </main>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/logo.png" alt="Peter&#39;s Blog"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/Notes/">Notes</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/Projects">Projects</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/images/A%20Fancy%20Man.png">关于我</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="http://c01dkit.com" target="_blank" rel="noopener">友链</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="Search">
        <i class="ri-search-line"></i>
      </a>
      
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <script>
      if (window.matchMedia("(max-width: 768px)").matches) {
        document.querySelector('.content').classList.remove('on');
        document.querySelector('.sidebar').classList.remove('on');
      }
    </script>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i></p>
  <div class="reward-box">
    
    
  </div>
</div>
    
<script src="/js/jquery-2.0.3.min.js"></script>


<script src="/js/lazyload.min.js"></script>

<!-- Subtitle -->

<script>
  try {
    var typed = new Typed("#subtitle", {
      strings: ['Mathematics, Computer-Science, Physics.', 'Now I will scroll . . .', ''],
      startDelay: 0,
      typeSpeed: 70,
      loop: 10,
      backSpeed: false,
      showCursor: true
    });
  } catch (err) {
    console.log(err)
  }
</script>

<!-- Tocbot -->


<script src="/js/tocbot.min.js"></script>

<script>
  tocbot.init({
    tocSelector: '.tocbot',
    contentSelector: '.article-entry',
    headingSelector: 'h1, h2, h3, h4, h5, h6',
    hasInnerContainers: true,
    scrollSmooth: true,
    scrollContainer: 'main',
    positionFixedSelector: '.tocbot',
    positionFixedClass: 'is-position-fixed',
    fixedSidebarOffset: 'auto'
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css">
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script>

<!-- MathJax -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
      tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
  });

  MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for(i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
      }
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.6/unpacked/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
  var ayerConfig = {
    mathjax: true
  }
</script>

<!-- Katex -->

<!-- busuanzi  -->


<script src="/js/busuanzi-2.3.pure.min.js"></script>


<!-- ClickLove -->


<script src="/js/clickLove.js"></script>


<!-- CodeCopy -->


<link rel="stylesheet" href="/css/clipboard.css">

<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>



    
  </div>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            displayMath: [ ['$','$'], ["\\[","\\]"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js"></script>


<!-- <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
      inlineMath: [ ['

</html>,'

</html>], ["\\(","\\)"] ],
      displayMath: [ ['$','$'], ["\\[","\\]"] ],
      processEscapes: true
    },
    "HTML-CSS": { availableFonts: ["TeX"] }
  });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js"></script> --><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>

</html>